function monthDates(e){e.setDate(lastDate),monthDatesBox.innerHTML="",lastMonthOffset=0,todayDate=new Date,stillToday=e.getDate()==todayDate.getDate()&&e.getMonth()==todayDate.getMonth()&&e.getFullYear()==todayDate.getFullYear(),nextDay();let t=new Date(e.getTime()-24*(e.getDate()-1)*60*60*1e3);dayOfMonths[1]=1==(e.getFullYear()/4).toString().split(".").length?29:28;let a=t.getDay(),n=t.getMonth();for(let e=1;e<=a;e++){0==n&&(n=monthArray.length);let r=document.createElement("div");r.classList.add("date"),dateValue=document.createElement("span"),dateValue.classList.add("past"),dateValue.innerText=dayOfMonths[n-1]-(a-e),r.append(dateValue),monthDatesBox.append(r),lastMonthOffset=e,n=t.getMonth()}const r=5==Math.ceil((dayOfMonths[n]+a)/7)?"five":"six";monthDatesBox.className="month-dates",monthDatesBox.classList.add(r);for(let t=1;t<=dayOfMonths[n];t++){let a=document.createElement("div");a.classList.add("date"),dateValue=document.createElement("span"),dateValue.innerText=t,t==e.getDate()&&dateValue.classList.add("selected-date"),a.append(dateValue),monthDatesBox.append(a)}let s=0;"five"==r?s=5:"six"==r&&(s=6),s=dayOfWeeksShort.length*s-(dayOfMonths[n]+a);for(let e=1;e<=s;e++){let t=document.createElement("div");t.classList.add("date"),dateValue=document.createElement("span"),dateValue.classList.add("future"),dateValue.innerText=e,t.append(dateValue),monthDatesBox.append(t)}displayDate(e.getDate(),e.getMonth(),e.getFullYear())}function displayDate(e,t,a){let n="th";switch(e){case 1:case 21:case 31:n="st";break;case 2:case 22:n="nd";break;case 3:case 23:n="rd"}selectedDayBox.innerText=dayOfWeeks[(parseInt(e)+(lastMonthOffset-1))%7],selectedDateFullBox.innerText=e+n+" "+monthArray[t]+", "+a}function createYears(){resetCalendarBox();const e=10*Math.floor(currentYear/10);selectedMonthYear.parentElement.classList.add("out"),selectedMonthYear.innerText=e-1+" - "+(e+10);const t=document.createElement("section");t.classList.add("years"),t.addEventListener("click",e=>{e.target.classList.contains("year")&&!e.target.classList.contains("selected")&&(currentYear=parseInt(e.target.innerText),selectedMonthYear.parentElement.classList.remove("out"),createMonths())});let a=document.createElement("div");a.classList.add("year"),a.classList.add("past"),a.innerText=e-1,t.append(a);for(let a=e;a<e+10;a++){const e=document.createElement("div");e.classList.add("year"),a==currentYear&&e.classList.add("selected"),e.innerText=a,t.append(e)}a=document.createElement("div"),a.classList.add("year"),a.classList.add("future"),a.innerText=e+10,t.append(a),calendarBody.classList="calendar-body years-list",calendarBody.append(t)}function createMonths(){resetCalendarBox(),selectedMonthYear.innerText=currentYear;const e=document.createElement("section");e.classList.add("months"),e.addEventListener("click",t=>{t.target.classList.contains("month")&&(currentMonth=monthArray[Array.from(e.children).indexOf(t.target)],createDays(new Date(currentMonth+", "+currentYear)))}),monthArray.forEach(t=>{const a=document.createElement("div");a.classList.add("month"),t==currentMonth&&a.classList.add("selected"),a.innerText=t,e.append(a)}),calendarBody.classList="calendar-body months-list",calendarBody.append(e)}function createDays(e){resetCalendarBox(),currentMonth=monthArray[e.getMonth()],currentYear=e.getFullYear();const t=document.createElement("section");t.classList.add("month-days"),dayOfWeeksShort.forEach(e=>{const a=document.createElement("div");a.classList.add("day"),a.innerText=e,t.append(a)}),calendarBody.classList="calendar-body days-list",calendarBody.append(t),selectedMonthYear.innerText=currentMonth+", "+currentYear,createDates(e)}function createDates(e){const t=document.createElement("section");t.classList.add("month-dates"),calendarBody.classList="calendar-body days-list",calendarBody.append(t),t.addEventListener("click",e=>{e.target.classList.contains("past")||e.target.classList.contains("future")||"SPAN"!=e.target.tagName||(document.querySelector(".selected-date").classList.remove("selected-date"),e.target.classList.add("selected-date"),lastDate=parseInt(e.target.innerText),todayDate=new Date,stillToday=lastDate==todayDate.getDate()&&monthArray.indexOf(currentMonth)==todayDate.getMonth()&&currentYear==todayDate.getFullYear(),nextDay(),displayDate(lastDate,monthArray.indexOf(currentMonth),currentYear))}),monthDatesBox=t,monthDates(e)}function resetCalendarBox(){calendarBody.innerHTML="";const e=document.createElement("section");e.classList.add("selected"),e.innerHTML+='<div class="previous-month"><img src="./Images/Chevron-Left.svg" alt="&lt;"></div><div class="selected-month-year"></div><div class="next-month"><img src="./Images/Chevron-Right.svg" alt="&gt;"></div>',selectedMonthYear=e.querySelector(".selected-month-year"),nextMonth=e.querySelector(".next-month"),previousMonth=e.querySelector(".previous-month"),selectedMonthYear.addEventListener("click",()=>{(calendarBody.classList.contains("months-list")||calendarBody.classList.contains("days-list"))&&(stillToday=!1),calendarBody.classList.contains("days-list")?createMonths():calendarBody.classList.contains("months-list")&&createYears()}),nextMonth.addEventListener("click",()=>{currentMonthIndex=monthArray.indexOf(currentMonth),currentMonthIndex==monthArray.length-1&&(++currentYear,currentMonthIndex=-1),calendarBody.classList.contains("days-list")?(currentMonth=monthArray[currentMonthIndex+=1],selectedMonthYear.innerText=currentMonth+", "+currentYear,monthDates(new Date(currentMonth+", "+currentYear))):calendarBody.classList.contains("months-list")&&(++currentYear,selectedMonthYear.innerText=currentYear,createMonths())}),previousMonth.addEventListener("click",()=>{currentMonthIndex=monthArray.indexOf(currentMonth),0==currentMonthIndex&&(currentYear-=1,currentMonthIndex=monthArray.length),calendarBody.classList.contains("days-list")?(currentMonth=monthArray[currentMonthIndex-=1],selectedMonthYear.innerText=currentMonth+", "+currentYear,monthDates(new Date(currentMonth+", "+currentYear))):calendarBody.classList.contains("months-list")&&(currentYear-=1,selectedMonthYear.innerText=currentYear,createMonths())}),calendarBody.append(e)}function nextDay(){let e;clearInterval(e),todayDate=new Date,e=setInterval(()=>{if(stillToday){const e=new Date;e.getHours()||e.getMinutes()||e.getSeconds()||(lastDate=e.getDate(),createDays(e))}else clearInterval(e)},1e3)}const monthArray=["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeeksShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeeks=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfMonths=[31,28,31,30,31,30,31,31,30,31,30,31],calendarBody=document.querySelector(".calendar-body"),selectedDayBox=document.querySelector(".selected-day"),selectedDateFullBox=document.querySelector(".selected-date-full"),todayButton=document.querySelector(".today");let selectedMonthYear,monthDatesBox,nextMonth,previousMonth,todayDate=new Date,currentYear=todayDate.getFullYear(),currentMonth=monthArray[todayDate.getMonth()],stillToday=!0,lastMonthOffset=0,lastDate=todayDate.getDate();todayButton.addEventListener("click",()=>{todayDate=new Date,lastDate=todayDate.getDate(),createDays(todayDate)}),addEventListener("DOMContentLoaded",createDays(todayDate));